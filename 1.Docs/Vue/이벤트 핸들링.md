# 이벤트 핸들링

> 설명

### Event Listen

Vue에선 v-on 디렉티브를 사용하여 DOM이벤트를 듣고, 트리거 될 때 JavaScript를 실행할 수 있다.

```html
<div id="app">
    <button v-on:click="counter += 1">Add 1</button>
    <p>위 버튼을 클릭한 횟수는 {{ counter }} 번 입니다.</p>
</div>
```

```js
let vm = new Vue({
  el: '#app',
  data: {
    counter: 0
  }
})
```

### 메소드 이벤트 핸들러

```html
<div id="app">
    <button @click="greet">
        Greet
    </button>
</div>
```

```js
var example2 = new Vue({
  el: '#app',
  data: {
    name: 'Vue.js'
  },
  // 메소드는 `methods` 객체 안에 정의합니다
  methods: {
    greet: function (event) {
      // 메소드 안에서 사용하는 `this` 는 Vue 인스턴스를 가리킵니다
      alert('Hello ' + this.name + '!')
      // `event` 는 네이티브 DOM 이벤트입니다
      if (event) {
        alert(event.target.tagName)
      }
    }
  }
})
```

### 인라인 메소드 핸들러

```html
<div id="app">
  <button v-on:click="say('hi')">Say hi</button>
  <button v-on:click="say('what')">Say what</button>
</div>
```

```js
new Vue({
  el: '#app',
  methods: {
    say: function (message) {
      alert(message)
    }
  }
})
```

이 경우 메소드에서 event에 액세스하기 위해서는 `$event`변수를 사용해 전달한다.

```html
<button v-on:click="warn('Form cannot be submitted yet.', $event)">
  Submit
</button>
```

```js
methods: {
  warn: function (message, event) {
    // 이제 네이티브 이벤트에 액세스 할 수 있습니다
    if (event) event.preventDefault()
    alert(message)
  }
}
```

### 이벤트 수식어

Vue는 `v-on` 이벤트에 **이벤트 수식어**를 제공한다. 수식어는 점으로 표시된 접미사이다.

- `.stop` : 이벤트 버블링(하위 요소에서 상위요소까지 이벤트가 전달되는 것)을 막는다.
- `.prevent` : 해당 태그의 기본 동작을 중단시킴(preventDefault())와 동일한 기능
- `.capture` : 이벤트가 해당 태그 내부에서 발생했을 때 내부태그보다 먼저 처리한다.
- `.self` :event.target이 엘리먼트 자체인 경우에만 트리거를 처리한다
- `.once` : 단 한번만 해당 이벤트를 실행한다.
- `.passive`
  - 모바일 환경에서 성능향상에 도움이 되는 이벤트 수식어.
  - 지정한 이벤트 핸들러에서 event.prevent를 호출하지 않는 다는 것을 브라우저한테 알리는 것.
  - 만약 .passive가 없다면 메소드 안에서 event.preventDefault()가 호출될 수도 있기 때문에 메소드가 완료되기 전까지 해당태그의 기본동작을 실행하지 않는다.

```html
<!-- 클릭 이벤트 전파가 중단됩니다 -->
<a v-on:click.stop="doThis"></a>

<!-- 원래 제출시 페이지를 로드하지만 prevent로 인해-->
<!-- 제출 이벤트가 페이지를 다시 로드 하지 않습니다 -->
<form v-on:submit.prevent="onSubmit"></form>

<!-- 수식어는 체이닝 가능합니다 -->
<a v-on:click.stop.prevent="doThat"></a>

<!-- 단순히 수식어만 사용할 수 있습니다 -->
<form v-on:submit.prevent></form>

<!-- 이벤트 리스너를 추가할 때 캡처모드를 사용합니다 -->
<!-- 즉, 내부 엘리먼트를 대상으로 하는 이벤트가 해당 엘리먼트에서 처리되기 전에 여기서 처리합니다. -->
<div v-on:click.capture="doThis">...</div>


<!-- event.target이 엘리먼트 자체인 경우에만 트리거를 처리합니다 -->
<!-- 자식 엘리먼트에서는 안됩니다 -->
<div v-on:click.self="doThat">...</div>


<!-- passive가 없다면 만약 onScroll메소드가 처리에 시간이 오래 걸린다면 그 동안 scroll을 할 수 없다.  -->
<div v-on:scroll.passive="onScroll">...</div>
```

> `passive`와 `prevent`는 함께 사용하지 말것!

### 키 수식어











