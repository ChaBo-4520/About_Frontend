# 트랜지션

> 설명

### 단일 엘리먼트/컴포넌트 트랜지션

Vue는 `transition` 래퍼 컴포넌트를 제공하므로 다음 상황에서 모든 엘리먼트 또는 컴포넌트에 대한 진입/진출 트랜지션을 추가할 수 있다.

- 조건부 렌더링 (`v-if` 사용)
- 조건부 출력 (`v-show` 사용)
- 동적 컴포넌트
- 컴포넌트 루트 노드

**예제**

```html
<div id="app">
    <button @click="show=!show">Toggle</button>
    <transition name="fade">
        <p v-if="show">Hello</p>
    </transition>
</div>
```

```js
let vm = new Vue({
    el: "#app",
    data() {
        return {
            show: true,
        };
    },
});
```

```css
.fade-enter-active,
.fade-leave-active {
    transition: opacity 0.5s;
}
.fade-enter,
.fade-leave-to {
    opacity: 0;
}
```

`transition`컴포넌트로 싸여진 엘리먼트가 삽입되거나 제거 될 때 다음 과정이 일어난다.

1. Vue는 대상 엘리먼트에 CSS 트랜지션 또는 애니메이션이 적용되었는지 여부를 자동으로 감지한다. 적용되었다면 CSS 트랜지션 클래스가 적절한 타이밍에 추가/제거된다.
2. 트랜지션 컴포넌트가 JavaScript훅을 제공하면 이러한 훅은 적절한 타이밍에 호출된다.
3. CSS트랜지션/ 애니메이션이 감지되지 않고, JavaScript훅이 제공 되지 않으면 삽입 또는 제거를 위한 DOM 작업이 다음 프레임에서 즉시 실행된다.

####  트랜지션 클래스

enter(진입) / leave(진출) 트랜지션에는 4가지 클래스가 적용된다.

1. `v-enter` : enter의 시작 상태. 엘리먼트가 삽입되기 전에 적용되고 한 프레임 후에 제거된다.
2. `v-enter-active` : enter에 대한 활성 및 종료 상태. 엘리먼트가 삽입되기 전에 적용된다. 트랜지션 / 애니메이션이 완료되면 제거된다.
3. `v-enter-to` : enter 상태의 끝에서 실행된다. 엘리먼트가 삽입된 후(동시에 `v-enter`제거), 트랜지션 / 애니메이션이 끝나면 제거되는 프레임
4. `v-leave` : leave를 위한 시작 상태. leave 트랜지션이 트리거 될 때 적용되고 한 프레임 후에 제거된다.
5. `v-leave-active` : leave에 대한 활성 및 종료 상태. leave 트랜지션이 트리거되면 적용되고 트랜지션 / 애니메이션이 완료되면 제거된다.
6. `v-leave-to` : leave 상태의 끝에서 실행된다. leave 트랜지션이 트리거되고(동시에 `v-leave`제거), 트랜지션/애니메이션이 끝나면 제거된다.

<img src="../../2.Pictures/transition.png">

각 클래스에는 트랜지션 이름이 접두어로 붙는다. 즉 `<transition name = "my-transition">`을 사용하면 `v-enter`는 `my-transition-enter`이다.

**예제1**

<img src="../../2.Pictures/transition1.gif">

```css
.fade-enter-active,
.fade-leave-active {
    transition: opacity 0.5s;
}
.fade-enter,
.fade-leave-to {
    opacity: 0;
}
```

위의 css는 fade라는 이름의 transition에 관한 CSS이다. 

0.5초동안 opacity를 변경시키며, transition안의 엘리먼트가 나타나기 시작할 때(enter)와 사라지는 동작이 끝날 때(leave-to) opcity를 0으로 둔다.

**예제2**

<img src="../../2.Pictures/transition2.gif">

```css
.slide-fade-enter-active {
    transition: all 0.3s ease;
}
.slide-fade-leave-active {
    transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);
}
.slide-fade-enter,
.slide-fade-leave-to {
    transform: translateX(10px);
    opacity: 0;
}
```

#### CSS 애니메이션

CSS 애니메이션은 CSS트랜지션과 같은 방식으로 적용된다. 차이점은 요소가 삽입 된 직후에 `v-enter`가 제거되는 것이 아니라 `animationend`이벤트에서 제거된다는 점이다.

<img src="../../2.Pictures/animation1.gif">

```css
.bounce-enter-active {
    animation: bounce-in 0.5s;
}
.bounce-leave-active {
    animation: bounce-in 0.5s reverse;
}
@keyframes bounce-in {
    0% {
        transform: scale(0);
    }
    50% {
        transform: scale(1.5);
    }
    100% {
        transform: scale(1);
    }
}
```



